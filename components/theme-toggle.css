/* Theme Toggle Container */
.theme-toggle-container {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  outline: none;
  transition: transform 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.theme-toggle-container:active {
  transform: scale(0.95);
}

.theme-toggle-container:active .theme-toggle {
  animation: pulse 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.theme-toggle-container:focus-visible {
  outline: 2px solid #B4975A;
  outline-offset: 4px;
  border-radius: 100px;
}

/* Main Toggle Switch */
.theme-toggle {
  position: relative;
  width: 88px;
  height: 42px;
  border-radius: 100px;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
  border: 2px solid #e5e7eb;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  will-change: background-color, transform;
}

/* Light mode - Sky blue background with rays */
.theme-toggle.light {
  background: linear-gradient(180deg, #117AF5 0%, #5FB0FF 100%);
  position: relative;
}

.theme-toggle.light::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    conic-gradient(from 0deg at 21px 21px,
      transparent 0deg,
      transparent 20deg,
      rgba(255, 255, 255, 0.15) 25deg,
      rgba(255, 255, 255, 0.25) 30deg,
      rgba(255, 255, 255, 0.15) 35deg,
      transparent 40deg,
      transparent 65deg,
      rgba(255, 255, 255, 0.15) 70deg,
      rgba(255, 255, 255, 0.25) 75deg,
      rgba(255, 255, 255, 0.15) 80deg,
      transparent 85deg,
      transparent 110deg,
      rgba(255, 255, 255, 0.15) 115deg,
      rgba(255, 255, 255, 0.25) 120deg,
      rgba(255, 255, 255, 0.15) 125deg,
      transparent 130deg,
      transparent 155deg,
      rgba(255, 255, 255, 0.15) 160deg,
      rgba(255, 255, 255, 0.25) 165deg,
      rgba(255, 255, 255, 0.15) 170deg,
      transparent 175deg,
      transparent 200deg,
      rgba(255, 255, 255, 0.15) 205deg,
      rgba(255, 255, 255, 0.25) 210deg,
      rgba(255, 255, 255, 0.15) 215deg,
      transparent 220deg,
      transparent 245deg,
      rgba(255, 255, 255, 0.15) 250deg,
      rgba(255, 255, 255, 0.25) 255deg,
      rgba(255, 255, 255, 0.15) 260deg,
      transparent 265deg,
      transparent 290deg,
      rgba(255, 255, 255, 0.15) 295deg,
      rgba(255, 255, 255, 0.25) 300deg,
      rgba(255, 255, 255, 0.15) 305deg,
      transparent 310deg,
      transparent 335deg,
      rgba(255, 255, 255, 0.15) 340deg,
      rgba(255, 255, 255, 0.25) 345deg,
      rgba(255, 255, 255, 0.15) 350deg,
      transparent 355deg,
      transparent 360deg
    );
  pointer-events: none;
  opacity: 1;
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  transform: translateX(0);
}

/* Hover effect on rays - shift right */
.theme-toggle-container:hover .theme-toggle.light::before {
  transform: translateX(6px);
}

/* Dark mode - Night sky background with moon ripples */
.theme-toggle.dark {
  background: linear-gradient(180deg, #252D37 0%, #3D4A5C 100%);
  position: relative;
}

/* Moon ray image */
.moon-ray {
  position: absolute;
  top: 50%;
  right: -5px;
  width: 60px;
  height: 60px;
  margin-top: -30px;
  pointer-events: none;
  z-index: 1;
  opacity: 0.6;
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  transform: translateX(0);
}

.moon-ray.hidden {
  opacity: 0;
}

/* Hover effect on moon rays - shift left */
.theme-toggle-container:hover .moon-ray {
  transform: translateX(-5px);
  opacity: 0.8;
}

/* Background for clouds and stars */
.toggle-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* Clouds */
.cloud {
  position: absolute;
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
  will-change: opacity, transform;
  pointer-events: none;
}

.cloud.hidden {
  opacity: 0;
  transform: translateX(10px);
  transition: opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.cloud-back {
  width: auto;
  height: 42px;
  top: 0;
  right: 0;
  transform: translateX(0);
  z-index: 1;
}

.cloud-back.hidden {
  opacity: 0;
  transform: translateX(10px);
}

.cloud-front {
  width: auto;
  height: 42px;
  top: 0;
  right: 0;
  transform: translateX(0);
  z-index: 2;
}

.cloud-front.hidden {
  opacity: 0;
  transform: translateX(10px);
}

/* Toggle Circle (Container for Sun/Moon) */
.toggle-circle {
  position: absolute;
  top: 50%;
  margin-top: -16px; /* Half of height (32px / 2) for perfect centering */
  width: 32px;
  height: 32px;
  border-radius: 50%;
  transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  will-change: transform;
  z-index: 5;
}

/* Light mode - circle on the left */
.theme-toggle.light .toggle-circle {
  transform: translateX(5px);
}

/* Hover effect on sun - shift right */
.theme-toggle-container:hover .theme-toggle.light .toggle-circle {
  transform: translateX(10px);
}

/* Dark mode - circle on the right */
.theme-toggle.dark .toggle-circle {
  transform: translateX(51px);
}

/* Hover effect on moon - shift left */
.theme-toggle-container:hover .theme-toggle.dark .toggle-circle {
  transform: translateX(46px);
}

/* Sun */
.sun {
  width: 100%;
  height: 100%;
  background: #E8C849;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  transform-origin: center;
  will-change: opacity, transform;
  animation: sunRise 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.sun.hidden {
  opacity: 0;
  transform: scale(0.2) rotate(180deg);
  transition: opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Moon */
.moon {
  width: 100%;
  height: 100%;
  background: #C9C9C9;
  border-radius: 50%;
  position: relative;
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  transform-origin: center;
  will-change: opacity, transform;
  animation: moonRise 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.moon.hidden {
  opacity: 0;
  transform: scale(0.2) rotate(-180deg);
  transition: opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1),
              transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Moon craters */
.moon-crater {
  position: absolute;
  background: #889399;
  border-radius: 50%;
}

.moon-crater-1 {
  width: 6px;
  height: 6px;
  top: 8px;
  left: 11px;
}

.moon-crater-2 {
  width: 4px;
  height: 4px;
  top: 19px;
  left: 19px;
}

/* Stars for dark mode */
.stars {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  transition: opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.stars.hidden {
  opacity: 0;
}

.star {
  position: absolute;
  background: #FFFFFF;
  border-radius: 50%;
  animation: twinkle 2s ease-in-out infinite;
}

/* Individual star positions and sizes */
.star-1 {
  width: 3px;
  height: 3px;
  top: 8px;
  left: 18px;
  animation-delay: 0s;
}

.star-2 {
  width: 2px;
  height: 2px;
  top: 18px;
  left: 30px;
  animation-delay: 0.3s;
}

.star-3 {
  width: 3px;
  height: 3px;
  top: 32px;
  left: 22px;
  animation-delay: 0.7s;
}

.star-4 {
  width: 2px;
  height: 2px;
  top: 12px;
  left: 48px;
  animation-delay: 1s;
}

.star-5 {
  width: 2px;
  height: 2px;
  top: 28px;
  left: 42px;
  animation-delay: 0.5s;
}

.star-6 {
  width: 1px;
  height: 1px;
  top: 20px;
  left: 38px;
  animation-delay: 1.2s;
}

.star-7 {
  width: 2px;
  height: 2px;
  top: 36px;
  left: 35px;
  animation-delay: 0.2s;
}

.star-8 {
  width: 1px;
  height: 1px;
  top: 14px;
  left: 55px;
  animation-delay: 0.8s;
}

/* Twinkle animation for stars */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.3);
  }
}

/* Sun rise animation */
@keyframes sunRise {
  0% {
    opacity: 0;
    transform: scale(0.3) rotate(-90deg);
  }
  50% {
    transform: scale(1.15) rotate(0deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

/* Moon rise animation */
@keyframes moonRise {
  0% {
    opacity: 0;
    transform: scale(0.3) rotate(90deg);
  }
  50% {
    transform: scale(1.15) rotate(0deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

/* Pulse animation for toggle button */
@keyframes pulse {
  0% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(180, 151, 90, 0.4);
  }
  50% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1), 0 0 0 6px rgba(180, 151, 90, 0);
  }
  100% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(180, 151, 90, 0);
  }
}

/* Responsive sizing for smaller screens */
@media (max-width: 640px) {
  .theme-toggle {
    width: 88px;
    height: 42px;
  }

  .toggle-circle {
    width: 32px;
    height: 32px;
    margin-top: -16px;
  }

  .cloud-back,
  .cloud-front {
    height: 42px;
  }

  .moon-ray {
    width: 60px;
    height: 60px;
    margin-top: -30px;
  }

  /* Disable hover effects on mobile */
  .theme-toggle-container:hover .theme-toggle.light::before {
    transform: translateX(0);
  }

  .theme-toggle-container:hover .moon-ray {
    transform: translateX(0);
  }

  .theme-toggle-container:hover .theme-toggle.light .toggle-circle {
    transform: translateX(5px);
  }

  .theme-toggle-container:hover .theme-toggle.dark .toggle-circle {
    transform: translateX(51px);
  }
}
